@page "/seller-orders"
@inject HttpClient Http
@inject NavigationManager Navigation
@attribute [Authorize(Roles = "SELLER")]
@using Microsoft.AspNetCore.Authorization
@using MudBlazor

<h3 class="mb-3">My Orders</h3>

@if (OrderDetails == null)
{
    <p>Loading orders...</p>
}
else if (!OrderDetails.Any())
{
    <p>No orders found.</p>
}
else
{
    <div class="orders-container">
        @foreach (var order in OrderDetails)
        {
            <div class="order-card">
                <h5>Order</h5>
                <p><strong>Name:</strong> @order.Buyer</p>
                <p><strong>Total:</strong> ₹@order.Total</p>
                <p><strong>Date:</strong> @order.Date</p>
                <p><strong>Time:</strong> @order.Time</p>
            </div>
        }
    </div>
}

@code {
    private List<SellerOrderDetails>? OrderDetails;

    protected override async Task OnInitializedAsync()
    {
        OrderDetails = await Http.GetFromJsonAsync<List<SellerOrderDetails>>("api/Seller/get-orders");
    }
    public class SellerOrderDetails
    {
        public decimal Total { get; set; }
        public string Buyer { get; set; }
        public string Date  { get; set; }
        public string Time  { get; set; }
    }
   
}
